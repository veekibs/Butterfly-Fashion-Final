{# This tag is required at the top of any template that uses the {% static %} tag. #}
{% load static %}
<!DOCTYPE html>
<html lang="en-GB">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  {# This block defines a default title but allows child templates to override it. #}
  <title>{% block title %}butterfly fashion.{% endblock %}</title>

  {# Links to the favicon using the static file system. #}
  <link rel="icon" type="image/x-icon" href="{% static 'shop/images/logo/logo-favicon.png' %}">
  
  {# Imports the custom fonts for the site from Google Fonts. #}
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">

  {# Links to the main, global stylesheet for the entire site. #}
  <link href="{% static 'shop/css/base.css' %}" rel="stylesheet"/>
  
  {# This block serves as a placeholder for any page-specific stylesheets. #}
  {% block styles %}{% endblock %}
  
  {# Imports the jQuery library from a CDN. #}
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  {# Links to the main, global JavaScript file. 'defer' ensures it runs after the HTML is parsed. #}
  <script src="{% static 'shop/js/script.js' %}" defer></script>
  {# Imports the ionicons library for icons. #}
  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
</head>

{# The data-page attribute is populated by child templates and used by JavaScript to identify the current page. #}
<body data-page="{% block page_name %}{% endblock %}">
  
  {# The main header, which will appear on every page. #}
  <!-- HEADER -->
  <header id="header">
  <!-- Logo -->
    <a href="{% url 'home' %}" class="header-logo">
      <img src="{% static 'shop/images/logo/bf-wordmark.png' %}" alt="Butterfly Fashion logo">
    </a>

  <!-- Desktop Navbar -->
        <nav id="navbar">
            <ul>
                <li><a href="{% url 'home' %}">home</a></li>
      <li><a href="{% url 'preteens' %}">preteens</a></li>
      <li><a href="{% url 'teens' %}">teens</a></li>
                <li><a href="{% url 'blog' %}">blog</a></li>
            </ul>
        </nav>

  <!-- Right side actions -->
        <div class="header-actions">
    <a href="{% url 'about' %}" title="Impact"><ion-icon name="leaf-outline"></ion-icon></a>

            {% if user.is_authenticated %}
      <a href="{% url 'dashboard' %}" title="Account"><ion-icon name="person-outline"></ion-icon></a>
      <form id="logout-form" action="{% url 'logout' %}" method="post">
                    {% csrf_token %}
        <button type="submit" class="logout-button" title="Logout"><ion-icon name="log-out-outline"></ion-icon></button>
                </form>
            {% else %}
      <a href="{% url 'login-page' %}" title="Login"><ion-icon name="person-outline"></ion-icon></a>
            {% endif %}

    <a href="{% url 'cart' %}" title="Cart">
                <ion-icon name="bag-handle-outline"></ion-icon>
                <span id="cart-count">0</span>
            </a>
        </div>

  <!-- Hamburger (mobile) -->
  <button id="hamburger"><ion-icon name="menu-outline"></ion-icon></button>
</header>

  <!-- Spaceship Mobile Menu Card -->
  <div id="mobile-menu-card">
    <!-- Top links -->
    <div class="menu-links">
      <a href="{% url 'home' %}">home</a>
      <a href="{% url 'preteens' %}">preteens</a>
      <a href="{% url 'teens' %}">teens</a>
      <a href="{% url 'blog' %}">blog</a>
    </div>

    <hr>

    <!-- Bottom icons -->
    <div class="menu-icons">
      <a href="{% url 'about' %}" title="Impact"><ion-icon name="leaf-outline"></ion-icon></a>

      {% if user.is_authenticated %}
        <a href="{% url 'dashboard' %}" title="Account"><ion-icon name="person-outline"></ion-icon></a>
        <form id="logout-form-mobile" action="{% url 'logout' %}" method="post" class="logout-form-mobile">
          {% csrf_token %}
          <button type="submit" class="logout-button" title="Logout"><ion-icon name="log-out-outline"></ion-icon></button>
        </form>
      {% else %}
        <a href="{% url 'login-page' %}" title="Login"><ion-icon name="person-outline"></ion-icon></a>
      {% endif %}

      <a href="{% url 'cart' %}" title="Cart">
        <ion-icon name="bag-handle-outline"></ion-icon>
        <span id="cart-count-mobile">0</span>
      </a>
    </div>
  </div>

  {# The main content area. Child templates will insert their unique HTML here. #}
  <main>
    {% block content %}{% endblock %}
  </main>
  
  {# The main footer, which will appear on every page. #}
  <footer class="section-p1">
    <div class="copyright">
      <p>Â© 2025, butterfly fashion.</p>
    </div>
  </footer>

  {# A placeholder for any page-specific JavaScript files. #}
  {% block scripts %}{% endblock %}
  
</body>
</html>